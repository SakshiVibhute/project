<form name="myForm" #frm="ngForm" (ngSubmit)="frm.form.valid && onSubmitData(frm)">
    <div class="form-group">
        <input type="hidden" name="id" class="form-control" #id="ngModel" ngModel
         [(ngModel)]="idd" >
    </div>

    <div class="form-group">
        <label for="firstName">First Name:</label><span style="color: red">*</span>
        <input type="text" name="fname" class="form-control" #fname="ngModel" ngModel
        required [ngClass]="{'is-invalid':frm.submitted && fname.invalid}" 
        [(ngModel)]="fn"
        >
        <div *ngIf="frm.submitted && fname.invalid" class="invalid-feedback">
            First Name is required.
        </div>
    </div>

    <div class="form-group">
        <label for="lastName">Last Name:</label><span style="color: red">*</span>
        <input type="text" name="lname" class="form-control" #lname="ngModel" ngModel
        [(ngModel)]="ln" required [ngClass]="{'is-invalid':frm.submitted && lname.invalid}">
        
        <div *ngIf="frm.submitted && lname.invalid" class="invalid-feedback">
            Last Name is required.
        </div>
    </div>

    <div class="form-group">
        <label for="email">Email:</label><span style="color: red">*</span>
        <input type="email" name="eml" class="form-control" #eml="ngModel" ngModel
        [(ngModel)]="em" required [ngClass]="{'is-invalid':frm.submitted && eml.invalid}"
        pattern="^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$">

        <div *ngIf="eml.touched" class="invalid-feedback">
            <div *ngIf="eml.errors?.['required']" >Email is required.</div>
            <div *ngIf="eml.errors?.['pattern']" >Email is not valid, please enter valid email.</div>
        </div>        
    </div>

    <div class="form-group">
        <label for="course">Course:</label>
        <select name="course" id="" class="form-control" #course="ngModel" ngModel
        [(ngModel)]="cor">
            <option *ngFor="let course of courses">{{course}}</option>
        </select>
    </div>

    <div class="form-group">
        <label for="gender">Gender:</label>
        <input type="radio" name="gender" class=" radio" value="male" #gender="ngModel" ngModel
        [(ngModel)]="gen">
        <label for="male">Male</label>
        <input type="radio" name="gender" class=" radio" value="female" #gender="ngModel" ngModel
        [(ngModel)]="gen">
        <label for="female">Female</label>
    </div>

    <div class="form-group">
        <label for="password">Password:</label>
        <input type="password" name="pass" class="form-control" #pass="ngModel" ngModel
        [(ngModel)]="ps">
    </div>

    <div class="form-group">
        <label for="cpassword">Confirm Password:</label>
        <input type="password" name="cpass" class="form-control" #cpass="ngModel" ngModel
        [(ngModel)]="cps">
    </div> <br>

    <div class="form-group">
        <button type="submit" class="btn btn-info">Submit</button>
        <!-- <input type="submit" value="Submit"> -->

        <button (click)="updateData(frm)" class="btn btn-info">Update</button>
    </div>

</form>


<!-- show all form data to user -->

<div *ngIf="showFlag">
<table class="table table-primary">
    <tr>
        <th>First Name</th>
        <th>Last Name</th>
        <th>Email</th>
        <th>Course</th>
        <th>Gender</th>
        <th>Password</th>
        <th>Confirm Password</th>
        <th> Action</th>
        <th> Action</th>
    </tr>
    <tr *ngFor="let dt of allData">
        <td>{{dt.fname}}</td>
        <td>{{dt.lname}}</td>
        <td>{{dt.eml}}</td>
        <td>{{dt.course}}</td>
        <td>{{dt.gender}}</td>
        <td>{{dt.pass}}</td>
        <td>{{dt.cpass}}</td>
        <td>
            <button class="btn btn-danger" (click)="onDel(dt)">Delete</button>
        </td>
        <td>
            <button class="btn btn-warning" (click)="onUpdate(dt)">Update</button>
        </td>

    </tr>
</table>

</div>
